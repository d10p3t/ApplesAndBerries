extends layout

block content
	title AR View

	.ui.middle.center.aligned.grid.stackable.doubling
		// Title
		.seven.wide.column.row#menu-row
			.ui.center.aligned.segment
				h1 Acknowledgment Receipt

		// buttons
		.row.button-row
			button#add-AR-button.ui.button(onclick="location.replace('/AR')") ADD
			.ui.button EDIT
			.ui.button#delete-AR-button DELETE

		// Table Proper
		.ui.raised.segment.row
			.ui.container.view-table
				table#AR-view-table.ui.table.fluid.selectable.sortable
					thead
						tr
							th
								.ui.master.checkbox
									input(type="checkbox", name="employee-master-checkbox")
									label
							th.collapsing AN
							th.two.wide Issued By
							th.three.wide Name
							th.two.wide Date
							th Particulars
							th.two.wide Amount
					tbody
						for item in transactions
							tr
								td
									.ui.checkbox
										input(type="checkbox", name="employee-checkbox", data-an=item.adviceNumber)
										label
								td= item.adviceNumber
								td= item.issuedBy
								td= item.name
								td= item.date
								td= item.particulars
								td= item.amount

		//PRINT BUTTON
		.fifteen.wide.column(style="padding: 0 1em 1em 1em !important;")
			button.ui.button.right.floated.column#print-AR-button Print

	script(type='text/javascript', src='/javascripts/sorttable.js')
	script(type='text/javascript' src='/javascripts/scripts.js')
	script(type='text/javascript' src='/javascripts/AR_view.js')
	//- script(type='text/javascript').
	//- 	var sendAjax = function(values, link, success_function){
	//- 		return $.ajax({
	//- 			url: link,
	//- 			type: "POST",
	//- 			datatype: "json",
	//- 			data: JSON.stringify(values),
	//- 			contentType: "application/json; charset=utf-8",
	//- 			cache: "false",
	//- 			timeout: "10000",
	//- 			complete: function(){
	//- 				console.log('process complete')
	//- 			},
	//- 			success: success_function(),
	//- 			error: function(){
	//- 				console.log('process error')
	//- 			},
	//- 		});
	//- 	}

	//- 	$('#print-button').click(function(){
	//- 		$('table').printThis({
	//- 			header: "<div style='width: 100%; margin: 0 auto;'><img style='width: 20%;' src='images/header.png'></img></div>"
	//- 		});
	//- 	});

	//- 	$('#delete-AR-button').click(function(){
	//- 		var checkboxes = $('.ui.checkbox input:checked').map(function(i, element){
	//- 			return $(element).data('an');
	//- 		});
	//- 		//- console.log(checkboxes);
	//- 		sendAjax(checkboxes, '/deleteAR', function(){
	//- 			console.log('process success');
	//- 			window.location.reload();
	//- 		})
	//- 		.then((data) => {
	//- 			console.log('process success');
	//- 		});
	//- 	});